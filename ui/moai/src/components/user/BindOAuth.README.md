# OAuth绑定管理功能

## 功能概述

OAuth绑定管理功能允许用户绑定和管理第三方账号，提供更便捷的登录方式。

## 主要功能

### 1. 查看已绑定的第三方账号
- 进入页面时自动获取用户已绑定的第三方账号列表
- 以表格形式显示，包含提供商图标、名称和操作按钮

### 2. 解绑第三方账号
- 点击表格中的"解绑"按钮
- 弹出确认对话框，用户确认后执行解绑操作
- 解绑成功后自动刷新列表

### 3. 新增绑定第三方账号
- 显示所有可用的OAuth提供商
- 如果某个提供商已被绑定，显示"已绑定"标签，不可重复绑定
- 点击"绑定账号"按钮，弹出新窗口进行OAuth授权
- 授权完成后自动关闭弹窗并刷新列表

## 技术实现

### API接口
- `GET /api/user/oauth_list` - 获取用户已绑定的第三方账号列表
- `POST /api/user/unbind-oauth` - 解绑第三方账号
- `GET /api/account/oauth_prividers` - 获取可用的OAuth提供商列表

### 组件结构
- `BindOAuth.tsx` - 主要的OAuth绑定管理组件
- `OAuthLogin.tsx` - OAuth登录回调处理组件（已优化）

### 路由配置
- `/user/oauth` - OAuth绑定管理页面
- `/oauth-callback` - OAuth回调处理页面

## 使用流程

### 绑定新账号
1. 用户进入OAuth绑定管理页面
2. 在"可绑定的第三方账号"区域找到想要绑定的提供商
3. 点击"绑定账号"按钮
4. 系统弹出新窗口，跳转到OAuth授权页面
5. 用户在授权页面完成授权
6. 授权成功后，OAuthLogin组件自动处理绑定逻辑
7. 绑定成功后显示成功提示，自动关闭弹窗
8. 主页面自动刷新绑定列表

### 解绑账号
1. 在"已绑定的第三方账号"表格中找到要解绑的账号
2. 点击"解绑"按钮
3. 确认解绑操作
4. 解绑成功后自动刷新列表

## 优化特性

### OAuthLogin组件优化
- 支持弹窗模式，绑定成功后自动关闭
- 添加绑定成功提示界面
- 改进错误处理和用户体验
- 支持延迟关闭，给用户足够时间看到成功提示

### 用户体验优化
- 响应式设计，支持不同屏幕尺寸
- 加载状态提示
- 错误信息友好展示
- 操作确认对话框
- 自动刷新数据

## 注意事项

1. 确保OAuth提供商配置正确，包括回调地址
2. 弹窗可能被浏览器阻止，需要用户允许弹窗
3. 绑定成功后会自动关闭弹窗，无需手动操作
4. 解绑操作不可逆，请谨慎操作 