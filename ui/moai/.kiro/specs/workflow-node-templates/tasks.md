# 工作流节点模板 - 任务列表

## 1. 节点模板定义
- [ ] 1.1 创建 nodeTemplates.ts 文件
  - 定义 NodeTemplate 接口
  - 定义 NodeCategory 枚举
  - 导出 nodeTemplates 数组
- [x] 1.2 定义控制流节点模板
  - Start 节点
  - End 节点
  - Condition 节点
  - Fork 节点
  - ForEach 节点
- [x] 1.3 定义 AI 节点模板
  - AiChat 节点
- [x] 1.4 定义数据处理节点模板
  - DataProcess 节点
  - JavaScript 节点
- [x] 1.5 定义集成节点模板
  - Plugin 节点
  - Wiki 节点

## 2. 节点面板组件
- [ ] 2.1 创建 NodePanel 组件
  - 创建 NodePanel.tsx 文件
  - 创建 NodePanel.css 文件
  - 实现基础布局结构
- [ ] 2.2 实现节点分类显示
  - 使用 Collapse 组件展示分类
  - 显示每个分类的节点数量
  - 默认展开所有分类
- [ ] 2.3 实现节点模板卡片
  - 显示节点图标
  - 显示节点名称和描述
  - 应用节点颜色主题
- [ ] 2.4 实现搜索功能
  - 添加搜索输入框
  - 实现节点名称搜索
  - 实现节点描述搜索
  - 支持清空搜索
- [ ] 2.5 实现拖拽功能
  - 设置节点卡片为可拖拽
  - 在 dragStart 事件中传递节点数据
  - 添加拖拽视觉反馈

## 3. 画布集成
- [x] 3.1 修改 WorkflowConfig 布局
  - 调整 CSS 布局支持左侧面板
  - 添加 NodePanel 组件到布局
  - 确保画布区域正确调整大小
- [x] 3.2 实现画布拖放处理
  - 添加 onDragOver 事件处理
  - 添加 onDrop 事件处理
  - 将鼠标位置转换为画布坐标
  - 创建新节点实例
- [ ] 3.3 更新节点渲染配置
  - 修改 nodeRegistries.ts
  - 根据节点类型应用不同样式
  - 配置节点颜色和图标

## 4. 测试和优化
- [ ] 4.1 测试节点创建
  - 测试所有节点类型的拖拽
  - 验证节点 ID 唯一性
  - 验证节点位置正确
- [ ] 4.2 测试搜索功能
  - 测试按名称搜索
  - 测试按描述搜索
  - 测试清空搜索
- [ ] 4.3 优化用户体验
  - 优化拖拽动画
  - 添加加载状态
  - 添加错误提示
- [ ] 4.4 代码审查和重构
  - 检查类型定义
  - 优化性能
  - 添加注释
